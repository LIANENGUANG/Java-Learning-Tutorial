# lesson059. Java 中的 abstract 关键字

#### **为什么需要** `abstract` **关键字？**

在软件开发中，设计一个系统时，往往会定义一些通用的概念或类，这些类描述了某种类型的事物的共同特征。然而，这些通用类在实际场景下可能过于**抽象**，无法直接使用。比如：

- **场景举例**：一个汽车销售系统中，`Vehicle`（车辆）是一个通用的概念，所有的交通工具都可以归类为 `Vehicle`，但车辆本身是一个过于抽象的概念，没有具体的表现形式。我们更关心的是**具体的交通工具**，如 `Car`（车）、`Bike`（自行车）或 `Truck`（卡车）。

在这种情况下，我们需要一种机制来告诉程序设计者和使用者：**某些类只应该作为基类（父类）使用，不能直接实例化**，否则其行为过于**天马行空**、不可控。这就是 `abstract` 关键字的作用——它帮助我们为类和方法提供了**约束**。

### `abstract` **关键字的作用**

1. **防止实例化**：`abstract` 关键字可以防止用户直接创建父类的对象，确保该类只能作为基础类被子类继承。
2. **抽象设计**：它允许我们定义一个**通用的框架**，但不提供具体的实现。子类可以根据自身特点提供实现，保证子类行为的一致性和多样性。
3. **强制实现**：通过定义抽象方法，强制子类必须实现某些行为，避免子类的实现**过于随意**，确保系统行为的可控性。

### **关键字使用的好处**

- **统一性与灵活性**：`abstract` 强制子类实现某些方法，确保子类具备统一的行为接口，同时为不同子类提供灵活的实现方式。
- **安全性**：通过抽象类可以防止创建没有特定意义的实例，比如直接创建一个 `Vehicle` 对象是没有意义的，但创建一个具体的 `Car` 或 `Bike` 对象就有实际用途。

### **代码示例**

```java
// 抽象类 Vehicle
abstract class Vehicle {
    abstract void go();  // 抽象方法，子类必须实现
}

// 具体类 Car，继承自 Vehicle
class Car extends Vehicle {
    @Override
    void go() {
        System.out.println("The car is driving");
    }
}

// 具体类 Bike，继承自 Vehicle
class Bike extends Vehicle {
    @Override
    void go() {
        System.out.println("The bike is moving");
    }
}

public class Main {
    public static void main(String[] args) {
        // 抽象类不能被实例化
        // Vehicle vehicle = new Vehicle();  // 错误，不能实例化抽象类

        // 实例化具体子类
        Car car = new Car();
        car.go();  // 输出: The car is driving

        Bike bike = new Bike();
        bike.go();  // 输出: The bike is moving
    }
}
```

### **场景分析：为什么使用** `abstract`

#### 1. **防止不合理的实例化**

假设我们有一个 `Vehicle` 类表示交通工具，但我们不希望直接创建 `Vehicle` 的实例，因为 `Vehicle` 是一个太过**抽象**的概念。使用 `abstract` 关键字可以阻止这种不合理的使用。

如果没有抽象类的约束，程序员可能会创建一个 `Vehicle` 对象，而没有明确其具体类型，这样会导致程序行为不明确。

```java
Vehicle vehicle = new Vehicle(); // 错误：这不应该被允许，Vehicle 过于抽象
```

#### 2. **强制子类实现具体行为**

在抽象类 `Vehicle` 中，我们定义了抽象方法 `go()`，但没有具体实现。这意味着每个子类必须根据自身特点实现 `go()` 方法。这样做的目的是**强制**所有具体的交通工具（如车、摩托车、自行车）都必须实现“行驶”这一行为，但它们可以各自定义具体的实现方式。

#### 3. **避免天马行空的设计**

如果没有 `abstract` 关键字的约束，子类可能会随意选择是否实现某些方法，导致设计失控。通过抽象类和抽象方法，程序设计者可以规定某些行为必须由子类实现，从而避免程序设计**天马行空**、不受控制。

### **总结：为什么要有** `abstract` **关键字**

- **约束与安全性**：`abstract` 关键字为类设计提供了明确的约束，使得某些类只能作为基类，不能被实例化，避免了“天马行空”的设计。
- **强制实现**：通过抽象方法，确保子类实现关键的功能，避免子类不完整的实现。
- **灵活性与统一性**：抽象类本质上是为子类提供了一个统一的接口和框架，允许子类根据自身特点实现具体功能，从而实现代码的灵活性与扩展性。

使用 `abstract` 关键字，有助于我们设计更加**合理、可控**的程序结构，确保代码的**健壮性**和**逻辑一致性**。